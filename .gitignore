/* …código anterior permanece igual até depois de montar result.fees … */

/* 6. Sincroniza labels de exception (continua igual) */
syncExceptionLabels(result.fees);

/* 7. ——— Ajuste FINAL no Client Current Custody ——— */
(function patchCustodyCurrent() {
  const invFee   = result.fees.find(f => f.feeType === 'Investment Account Fees');
  if (!invFee) return;

  const currGrp  = invFee.feeGroups?.find(g => g.name === 'Client Current Fees');
  const custodyF = currGrp?.fields?.find(fl => Number(fl.code) === 6);
  if (!custodyF) return;

  const custodyAcc = customerAccount.find(a => a.feeType === 6);
  if (!custodyAcc) return;

  custodyF.defaultValue = custodyAcc.feeCode;                // "A032"
  custodyF.labelValue   = numberToCurrency(custodyAcc.feeAmount); // "$375.00"
})();

return Result.ok(result);


// …
const rowsSorted = [...rows]
  .filter(r => !Number.isNaN(Number(r.Amount)))   // ignora códigos A021/A032 etc.
  .sort((a, b) => Number(a.Amount) - Number(b.Amount));
// …


