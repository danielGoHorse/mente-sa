import api from "@/app/api";

import { useMutation } from "@tanstack/react-query";

interface IData{
   fullName :string;
}

interface searchUserResponse{
    code:number
    data:{
        records:{
        safranetUserId:string;
        emailAddress: string;
        fullName: string;
        department: string ;
        managerID:string ; 
        }
    }
}

const request = async (data :IData) => {
    const response = await api.get<searchUserResponse>(
        `v1/user-management/getemployee?name=${data.fullName}`
    );
        return {
            ...response.data,
        };
};

export function useSearchUserProvider(){
 
    
      const mutation = useMutation<searchUserResponse, Error, IData>({
        mutationKey: ["searchUserProvider"],
        mutationFn: request,
        onSuccess:()=>{}
});
return { mutation };
}
